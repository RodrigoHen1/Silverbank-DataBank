-- Criação do banco de dados
CREATE DATABASE SilverBank;
USE SilverBank;

-- Tabelas
CREATE TABLE Cliente (
    Idcliente INT NOT NULL PRIMARY KEY,
    telefone VARCHAR(15),
    cpf VARCHAR(12) NOT NULL,
    email VARCHAR(30),
    rg VARCHAR(10) NOT NULL,
    endereco VARCHAR(60),
    Nconta INT NOT NULL,
    Idempr INT
);

CREATE TABLE Funcionario (
    Idfunc INT NOT NULL PRIMARY KEY,
    cargo VARCHAR(15) NOT NULL,
    datanasc DATE,
    email VARCHAR(30),
    endereco VARCHAR(60),
    nome VARCHAR(45) NOT NULL,
    telefone VARCHAR(15),
    salario INT NOT NULL,
    datacontr DATE NOT NULL,
    idagenc INT NOT NULL,
    idinv INT
);

CREATE TABLE ContaBancaria (
    Nconta INT NOT NULL PRIMARY KEY,
    tipo VARCHAR(20),
    saldo INT,
    dataabertura DATE,
    idcliente INT NOT NULL,
    idtransacao INT
);

CREATE TABLE ContaPoupanca (
    tarifamanutencao VARCHAR(30) PRIMARY KEY,
    chequeespecial VARCHAR(30),
    dataaniversario DATE NOT NULL,
    taxajuros INT,
    limitecredito INT,
    idagenc INT NOT NULL
);

CREATE TABLE ContaCorrente (
    idcorrente INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    dataaniversario DATE NOT NULL,
    chequeespecial VARCHAR(30),
    limitecredito INT,
    taxajuros INT,
    tarifamanutencao VARCHAR(30),
    idagenc INT NOT NULL
);

CREATE TABLE AgenciaBanc (
    idagenc INT NOT NULL PRIMARY KEY,
    nome VARCHAR(30) NOT NULL,
    telefone VARCHAR(15) NOT NULL,
    endereco VARCHAR(60) NOT NULL,
    email VARCHAR(30),
    horario VARCHAR(45) NOT NULL,
    idfunc INT NOT NULL,
    idtransacao INT,
    idempr INT,
    tarifamanutencao VARCHAR(30),
    dataaniversario DATE
);

CREATE TABLE Transacao (
    idtransacao INT NOT NULL PRIMARY KEY,
    data DATE NOT NULL,
    tipo VARCHAR(30) NOT NULL,
    valor INT NOT NULL,
    descricao VARCHAR(30),
    Nconta INT NOT NULL,
    idagenc INT
);

CREATE TABLE Investimento (
    idinv INT NOT NULL PRIMARY KEY,
    tipo VARCHAR(30) NOT NULL,
    valor INT NOT NULL,
    datacompra DATE NOT NULL,
    datavenc DATE NOT NULL,
    descricao VARCHAR(30),
    Idcliente INT NOT NULL,
    Idfunc INT NOT NULL
);

CREATE TABLE Emprestimo (
    Idempr INT NOT NULL PRIMARY KEY,
    taxajuros INT,
    Nconta INT NOT NULL,
    status VARCHAR(30) NOT NULL,
    tipo VARCHAR(30),
    datasolicitacao DATE,
    Idcliente INT NOT NULL,
    idagenc INT NOT NULL
);

-- Inserções (DML) - Cliente
INSERT INTO Cliente (Idcliente, telefone, cpf, email, rg, endereco, Nconta)
VALUES (1, '9999991', '000000000001', 'anderson17@gmail.com', '0000001', 'Rua Alameda dos Anjos 714, Apto 604', 111);

INSERT INTO Cliente (Idcliente, telefone, cpf, email, rg, endereco, Nconta, Idempr)
VALUES (2, '9999992', '000000000002', 'Savinho0783@gmail.com', '0000002', 'Rua Jose das Caldas 073', 112, 32);

INSERT INTO Cliente (Idcliente, telefone, cpf, email, rg, endereco, Nconta)
VALUES (3, '9999993', '000000000003', 'Toninho117@yahoo.com.br', '0000003', 'Rua Alameda dos Anjos 714, Apto 601', 113);

INSERT INTO Cliente (Idcliente, telefone, cpf, email, rg, endereco, Nconta, Idempr)
VALUES (4, '9999994', '000000000004', 'Clarasantiago00@yahoo.com.br', '0000004', 'Rua Alameda dos Anjos 714, 604', 114, 34);

INSERT INTO Cliente (Idcliente, telefone, cpf, email, rg, endereco, Nconta)
VALUES (5, '9999995', '000000000005', 'cainaespiuca1708@gmail.com', '0000005', 'Rua Alameda dos Anjos 714, Apto 601', 115);

INSERT INTO Cliente (Idcliente, telefone, cpf, email, rg, endereco, Nconta, Idempr)
VALUES (6, '9999996', '000000000006', 'mateusoliveira@gmail.com', '0000006', 'Rua Alameda dos Anjos 714, Apto 603', 116, 36);
